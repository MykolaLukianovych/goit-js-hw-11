{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport default getPictures;\n\nfunction getPictures(query) {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const API_KEY = \"47394920-a4032b33a38ab12c89a369f6a\";\n    \n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n\n    return fetch(`${BASE_URL}?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText);\n            }\n            return response.json();\n        })\n        \n};\n","export default reflectionPictures;\n\n\nfunction reflectionPictures(pictures) {\n    return pictures.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <a class=\"gallery-item\" href=\"${largeImageURL}\">\n        <div class=\"all-gallery\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\">\n        <div class=\"discription\">\n        <p class=\"discr-text\">Likes <span>${likes}</span></p>\n        <p class=\"discr-text\">Views <span>${views}</span></p>\n        <p class=\"discr-text\">Comments <span>${comments}</span></p>\n        <p class=\"discr-text\">Downloads <span>${downloads}</span></p>\n        </div>\n        </div>\n        </a>\n    \n    `).join(\"\");\n}\n\n","\"use strict\"\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport \"./js/pixabay-api.js\";\nimport \"./js/render-functions.js\";\nimport getPictures from \"./js/pixabay-api.js\";\nimport reflectionPictures from \"./js/render-functions.js\";\n\n\n\nconst formSearch = document.querySelector(\".search-form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\n\n\nlet lightbox = new SimpleLightbox(\".gallery-item\", {\n    captions: true,\n    captionSelector: \"img\",\n    captionType: \"attr\",\n    captionsData: \"alt\",\n    captionDelay: 250,\n});\n\nformSearch.addEventListener(\"submit\", handleSearch);\n\nfunction handleSearch(event) {\n    event.preventDefault();\n    \n\n    gallery.innerHTML = \"\";\n    loader.style.display = \"block\";\n\n    const inputValue = event.target.elements.query.value.trim();\n\n    if (inputValue === \"\") {\n        iziToast.error({\n            title: \"No Results\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n        });\n        loader.style.display = \"none\";\n        return;\n    }\n\n\n    getPictures(inputValue)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.info({\n                    title: \"No Results\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\",\n                });\n                return;\n            }\n\n            const markup = reflectionPictures(data.hits);\n            gallery.innerHTML = markup;\n\n            lightbox.refresh();\n\n        })\n        .catch(error => {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Something went wrong. Please try again later\",\n                position: \"topRight\"\n            });\n        })\n        .finally(() => {\n            loader.style.display = \"none\";\n            event.target.reset();\n        });\n}\n\n\n\n\n\n\n\n"],"names":["getPictures","query","BASE_URL","API_KEY","params","response","reflectionPictures","pictures","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formSearch","gallery","loader","lightbox","SimpleLightbox","handleSearch","event","inputValue","iziToast","data","markup","error"],"mappings":"6vBAGA,SAASA,EAAYC,EAAO,CACxB,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAC/B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAS,CAET,CCpBA,SAASC,EAAmBC,EAAU,CAClC,OAAOA,EAAS,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,wCAC9DL,CAAa;AAAA;AAAA,oBAEjCD,CAAY,UAAUE,CAAI;AAAA;AAAA,4CAEFC,CAAK;AAAA,4CACLC,CAAK;AAAA,+CACFC,CAAQ;AAAA,gDACPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAKpD,EAAE,KAAK,EAAE,CACd,CCJA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAI/C,IAAIC,EAAW,IAAIC,EAAe,gBAAiB,CAC/C,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,aAAc,GAClB,CAAC,EAEDJ,EAAW,iBAAiB,SAAUK,CAAY,EAElD,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAGpBL,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QAEvB,MAAMK,EAAaD,EAAM,OAAO,SAAS,MAAM,MAAM,OAErD,GAAIC,IAAe,GAAI,CACnBC,EAAS,MAAM,CACX,MAAO,aACP,QAAS,2EACT,SAAU,UACtB,CAAS,EACDN,EAAO,MAAM,QAAU,OACvB,MACH,CAGDjB,EAAYsB,CAAU,EACjB,KAAKE,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,KAAK,CACV,MAAO,aACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CAED,MAAME,EAASnB,EAAmBkB,EAAK,IAAI,EAC3CR,EAAQ,UAAYS,EAEpBP,EAAS,QAAO,CAE5B,CAAS,EACA,MAAMQ,GAAS,CACZH,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+CACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXN,EAAO,MAAM,QAAU,OACvBI,EAAM,OAAO,OACzB,CAAS,CACT"}